{"version":3,"sources":["webpack:///src/components/loginFrame.vue","webpack:///./src/components/loginFrame.vue?224b","webpack:///./src/components/loginFrame.vue"],"names":["loginFrame","name","data","userGroupList","activeName","loginForm","campus_card_id","password","userForm","forgetForm","groupOptions","label","value","regRules","user_group_id","required","message","trigger","department","email","forgetRules","verification_code","methods","loadUserGroup","_this","this","req","success","obj","records","$alert","$t","confirmButtonText","type","then","catch","handleClick","tab","event","console","log","login","initUserData","$emit","navMap","m","getData","menuArr","funArr","x","m1","y","push","childMap","m2","z","childList","m3","z1","menuSort","m4","sessionStorage","setItem","stringify_default","id","token","list","undefined","idx","length","i","splice","resize","mt","document","body","clientHeight","execReg","_this2","$refs","validate","valid","$message","error","forgetSub","toDatav","$router","toSendVcode","param","mounted","$nextTick","window","addEventListener","components_loginFrame","render","_vm","_h","$createElement","_c","_self","staticClass","on","tab-click","model","callback","$$v","expression","attrs","ref","label-width","size","placeholder","clearable","$set","_v","show-password","nativeOn","keyup","$event","indexOf","_k","keyCode","key","click","_s","rules","prop","staticStyle","width","_l","item","slot","icon","title","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.d39a9e951b72b37fb639.js","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n            <el-tab-pane label=\"　登录　\" name=\"login\">\r\n                <div class=\"loginForm\">\r\n                    <el-form ref=\"loginForm\" :model=\"loginForm\" label-width=\"100px\" size=\"small\">\r\n                        <el-form-item :label=\"$t('login.campus_card_id')\">\r\n                            <!-- <el-input class=\"logInt\" v-model=\"loginForm.campus_card_id\" :placeholder=\"$t('login.campus_card_id')\" type=\"text\"></el-input> -->\r\n                            <el-input class=\"logInt\" v-model=\"loginForm.campus_card_id\" :placeholder=\"$t('login.campus_card_id')\" type=\"text\" clearable></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item :label=\"$t('login.password')\">\r\n                            <el-input class=\"logInt\" v-model=\"loginForm.password\" :placeholder=\"$t('login.password')\" type=\"password\" clearable show-password @keyup.enter.native=\"login()\"></el-input>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                    <el-button @click=\"login\" type=\"primary\" class=\"loginBtn\">{{$t('login.btn')}}</el-button>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"　注册　\" name=\"register\">\r\n                <div class=\"loginForm\">\r\n                    <el-form ref=\"userForm\" :model=\"userForm\" label-width=\"100px\" size=\"small\" :rules=\"regRules\">\r\n                        <el-form-item :label=\"'用户组'\" prop=\"user_group_id\">\r\n                            <el-select v-model=\"userForm.user_group_id\" style=\"width: 100%;\">\r\n                                <el-option v-for=\"item in groupOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"校园卡号\" prop=\"campus_card_id\">\r\n                            <el-input class=\"logInt\" v-model=\"userForm.campus_card_id\" clearable></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"院系\" prop=\"department\">\r\n                            <el-input class=\"logInt\" v-model=\"userForm.department\" clearable></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"邮箱\" prop=\"email\">\r\n                            <!-- <el-input class=\"logInt\" v-model=\"userForm.email\">\r\n                                <el-button slot=\"append\" icon=\"el-icon-s-promotion\" title=\"发送验证码\" @click=\"toSendVcode\"></el-button>\r\n                            </el-input> -->\r\n                            <el-input class=\"logInt\" v-model=\"userForm.email\" placeholder=\"务必填写正确邮箱，找回密码时会发送邮件\" clearable></el-input>\r\n                        </el-form-item>\r\n                        <!-- <el-form-item label=\"验证码\" prop=\"verification_code\">\r\n                            <el-input class=\"logInt\" v-model=\"userForm.verification_code\"></el-input>\r\n                        </el-form-item> -->\r\n                        <el-form-item label=\"用户名\" prop=\"name\">\r\n                            <el-input class=\"logInt\" v-model=\"userForm.name\" clearable></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\" prop=\"password\">\r\n                            <el-input class=\"logInt\" v-model=\"userForm.password\" clearable show-password></el-input>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                    <el-button type=\"primary\" class=\"loginBtn\" @click=\"execReg\">{{$t('login.register')}}</el-button>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"　找回密码　\" name=\"forget\">\r\n                <div class=\"loginForm\">\r\n                    <el-form ref=\"forgetForm\" :model=\"forgetForm\" label-width=\"100px\" size=\"small\" :rules=\"forgetRules\">\r\n                        <el-form-item :label=\"$t('login.email')\" prop=\"email\">\r\n                            <el-input class=\"logInt\" v-model=\"forgetForm.email\" clearable>\r\n                                <el-button slot=\"append\" icon=\"el-icon-s-promotion\" title=\"发送验证码\" @click=\"toSendVcode\"></el-button>\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"验证码\" prop=\"verification_code\">\r\n                            <el-input class=\"logInt\" v-model=\"forgetForm.verification_code\" clearable></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"重置密码\" prop=\"password\">\r\n                            <el-input class=\"logInt\" v-model=\"forgetForm.password\" show-password clearable></el-input>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                    <el-button @click=\"forgetSub\" type=\"primary\" class=\"loginBtn\">提交</el-button>\r\n                </div>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n        <div class=\"bth\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"login\",\r\n    data() {\r\n        return {\r\n            userGroupList: [],\r\n            activeName: 'login',\r\n            loginForm: {\r\n                // email: '',\r\n                campus_card_id: '',\r\n                password: '',\r\n            },\r\n            userForm: {},\r\n            forgetForm: {},\r\n            groupOptions: [\r\n                {\r\n                    label: 'teacher',\r\n                    value: 2,\r\n                },\r\n                {\r\n                    label: 'student',\r\n                    value: 3,\r\n                },\r\n            ],\r\n            regRules: {\r\n                \"user_group_id\": [{ required: true, message: '用户组必选', trigger: 'blur' }],\r\n                \"campus_card_id\": [{ required: true, message: '校园卡号必填', trigger: 'blur' }],\r\n                \"department\": [{ required: true, message: '院系必填', trigger: 'blur' }],\r\n                \"email\": [{ required: true, message: '邮箱必填', trigger: 'blur' }],\r\n                // \"verification_code\": [{ required: true, message: '验证码必填', trigger: 'blur' }],\r\n                \"name\": [{ required: true, message: '用户名必填', trigger: 'blur' }],\r\n                \"password\": [{ required: true, message: '密码必填', trigger: 'blur' }],\r\n            },\r\n            forgetRules: {\r\n                \"email\": [{ required: true, message: '邮箱必填', trigger: 'blur' }],\r\n                \"verification_code\": [{ required: true, message: '验证码必填', trigger: 'blur' }],\r\n                \"password\": [{ required: true, message: '密码必填', trigger: 'blur' }],\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        loadUserGroup: function () {\r\n            let _this = this;\r\n            _this.req('/user_group', {}, function (data) {\r\n                if (data && data.success) {\r\n                    _this.userGroupList = data.obj.records;\r\n                } else {\r\n                    _this.$alert(data.message, _this.$t('tip.tip'), {\r\n                        confirmButtonText: _this.$t('button.close'),\r\n                        type: 'warning'\r\n                    }).then(() => {\r\n                    }).catch(() => { });\r\n                }\r\n            }, 'get', false);\r\n        },\r\n        handleClick(tab, event) {\r\n            console.log(tab, event);\r\n        },\r\n        login: function () {\r\n            let _this = this;\r\n            // hayo\r\n            // _this.initUserData({name:'Student.Lee', user_group_id: '3', token: 'xxxxxx'});\r\n            // _this.initUserData({ name: 'Teacher.Wang', user_group_id: '2', token: 'xxxxxx' });\r\n            // _this.initUserData({name:'admin', user_group_id: '1', token: 'xxxxxx'});\r\n            // _this.$emit('loginOver');\r\n            // return;\r\n            _this.req('/auth', this.loginForm, function (data) {\r\n                console.log(data);\r\n                if (data && data.success) {\r\n                    _this.initUserData(data.obj);\r\n                    _this.$emit('loginOver');\r\n                } else {\r\n                    _this.$alert(data.message, _this.$t('tip.tip'), {\r\n                        confirmButtonText: _this.$t('button.close'),\r\n                        type: 'warning'\r\n                    }).then(() => {\r\n                    }).catch(() => { });\r\n                }\r\n            });\r\n        },\r\n        initUserData: function (data) {\r\n            let _this = this;\r\n            let navMap = _this.m.getData(data.user_group_id).navMap;\r\n            let menuArr = [];\r\n            let funArr = [];\r\n            for (let x in navMap) {\r\n                let m1 = navMap[x];\r\n                if (m1.type == 0) {\r\n                    menuArr.push(m1);\r\n                } else {\r\n                    funArr.push(m1);\r\n                }\r\n\r\n                for (let y in m1.childMap) {\r\n                    let m2 = m1.childMap[y];\r\n                    if (m2.type == 0) {\r\n                        m1.childList.push(m2);\r\n                    } else {\r\n                        funArr.push(m2);\r\n                    }\r\n\r\n                    for (let z in m2.childMap) {\r\n                        let m3 = m2.childMap[z];\r\n                        if (m3.type == 0) {\r\n                            _this.menuSort(m2.childList, m3);\r\n                            // m2.childList.push(m3);\r\n                        } else {\r\n                            funArr.push(m3);\r\n                        }\r\n\r\n                        // 第四层，基本上都是功能\r\n                        for (let z1 in m3.childMap) {\r\n                            let m4 = m3.childMap[z1];\r\n                            if (m4.type == 1) {\r\n                                funArr.push(m4);\r\n                            }\r\n                        }\r\n                    }\r\n                    m2.childMap = {};\r\n                }\r\n                m1.childMap = {};\r\n            }\r\n\r\n            sessionStorage.setItem(\"userMenuArr\", JSON.stringify(menuArr));\r\n            sessionStorage.setItem(\"userFunArr\", JSON.stringify(funArr));\r\n            sessionStorage.setItem(\"loginUser\", data.name);\r\n            sessionStorage.setItem(\"user_id\", data.id);\r\n            sessionStorage.setItem(\"user_group_id\", data.user_group_id);\r\n            sessionStorage.setItem(\"department\", data.department);\r\n\r\n            sessionStorage.setItem(\"ops-token\", data.token);\r\n        },\r\n        menuSort: function (list, m) {\r\n            if (m.idx == undefined) {\r\n                m.idx = 99999;\r\n            }\r\n            if (list.length == 0) {\r\n                list.push(m);\r\n            } else {\r\n                for (let i in list) {\r\n                    if (list[i].idx > m.idx) {\r\n                        list.splice(i, 0, m);\r\n                        return true;\r\n                    }\r\n                    if (i == list.length - 1) {\r\n                        list.push(m);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        resize: function () {\r\n            let h = document.body.clientHeight;\r\n            let mt = (h - 550) / 2 - 30;\r\n            if (mt < 0) {\r\n                mt = 0;\r\n            }\r\n            this.mt = mt;\r\n        },\r\n        execReg: function () {\r\n            let _this = this;\r\n            this.$refs['userForm'].validate(valid => {\r\n                if (valid) {\r\n                    _this.req('/user', this.userForm, function (data) {\r\n                        if (data && data.success) {\r\n                            _this.$message.success('注册成功');\r\n                            _this.activeName = 'login';\r\n\r\n\r\n                            // let res = {\r\n                            //     \"campus_card_id\": 123456789,\r\n                            //     \"email\": \"hayoouch@foxmail.com\",\r\n                            //     \"id\": 4,\r\n                            //     \"name\": \"hzyt\",\r\n                            //     \"status\": \"pending\",\r\n                            //     \"user_group_id\": 2\r\n                            // };\r\n                        } else {\r\n                            _this.$alert(data.message, _this.$t('tip.tip'), {\r\n                                confirmButtonText: _this.$t('button.close'),\r\n                                type: 'warning'\r\n                            }).then(() => {\r\n                            }).catch(() => { });\r\n                        }\r\n                    });\r\n                } else {\r\n                    _this.$message.error(\"校验失败，请认真填写\");\r\n                }\r\n            });\r\n        },\r\n        forgetSub: function () {\r\n            let _this = this;\r\n            this.$refs['forgetForm'].validate(valid => {\r\n                if (valid) {\r\n                    _this.req('/user', _this.forgetForm, function (data) {\r\n                        if (data && data.success) {\r\n                            _this.$message.success('重置成功');\r\n                            _this.activeName = 'login';\r\n                        } else {\r\n                            _this.$alert(data.message, _this.$t('tip.tip'), {\r\n                                confirmButtonText: _this.$t('button.close'),\r\n                                type: 'warning'\r\n                            }).then(() => {\r\n                            }).catch(() => { });\r\n                        }\r\n                    }, \"put\");\r\n                } else {\r\n                    _this.$message.error(\"校验失败，请认真填写\");\r\n                }\r\n            });\r\n        },\r\n        toDatav: function () {\r\n            this.$router.push(\"/datav\");\r\n        },\r\n\r\n        toSendVcode: function () {\r\n            let _this = this;\r\n            let email = this.forgetForm.email;\r\n            if (email) {\r\n                let param = {\r\n                    email: email,\r\n                };\r\n                this.req('/verification_code', param, function (data) {\r\n                    if (data && data.success) {\r\n                        _this.$message.success('Success');\r\n                    } else {\r\n                        _this.$alert(data.message, _this.$t('tip.tip'), {\r\n                            confirmButtonText: _this.$t('button.close'),\r\n                            type: 'warning'\r\n                        }).then(() => {\r\n                        }).catch(() => { });\r\n                    }\r\n                });\r\n            } else {\r\n                this.$message.error(\"请填写邮箱\");\r\n            }\r\n        },\r\n    },\r\n    mounted: function () {\r\n        this.$nextTick(function () {\r\n            console.log(\"mounted -- >\");\r\n            let _this = this;\r\n            this.resize();\r\n            window.addEventListener('resize', () => {\r\n                _this.resize();\r\n            });\r\n\r\n            // this.loadUserGroup();\r\n        });\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.main {\r\n    height: 100%;\r\n}\r\n\r\n.locLogo {\r\n    margin: auto;\r\n    width: 150px;\r\n    /* height: 80px; */\r\n    display: block;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.loginForm {\r\n    width: 350px;\r\n    margin: auto;\r\n    padding-top: 50px;\r\n}\r\n\r\n.loginBtn {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    border-radius: 20px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.logInt >>> input:-internal-autofill-selected {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    background-color: rgba(255, 255, 255, 0) !important;\r\n}\r\n\r\n.logInt >>> input:-webkit-autofill {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    background-color: rgba(255, 255, 255, 0) !important;\r\n}\r\n\r\n.logInt >>> input:-webkit-autofill:focus {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n    background-color: rgba(255, 255, 255, 0) !important;\r\n}\r\n.bth {\r\n    height: 20px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/loginFrame.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"　登录　\",\"name\":\"login\"}},[_c('div',{staticClass:\"loginForm\"},[_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"label-width\":\"100px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('login.campus_card_id')}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"placeholder\":_vm.$t('login.campus_card_id'),\"type\":\"text\",\"clearable\":\"\"},model:{value:(_vm.loginForm.campus_card_id),callback:function ($$v) {_vm.$set(_vm.loginForm, \"campus_card_id\", $$v)},expression:\"loginForm.campus_card_id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('login.password')}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"placeholder\":_vm.$t('login.password'),\"type\":\"password\",\"clearable\":\"\",\"show-password\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login()}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"loginBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(_vm._s(_vm.$t('login.btn')))])],1)]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"　注册　\",\"name\":\"register\"}},[_c('div',{staticClass:\"loginForm\"},[_c('el-form',{ref:\"userForm\",attrs:{\"model\":_vm.userForm,\"label-width\":\"100px\",\"size\":\"small\",\"rules\":_vm.regRules}},[_c('el-form-item',{attrs:{\"label\":'用户组',\"prop\":\"user_group_id\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.userForm.user_group_id),callback:function ($$v) {_vm.$set(_vm.userForm, \"user_group_id\", $$v)},expression:\"userForm.user_group_id\"}},_vm._l((_vm.groupOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"校园卡号\",\"prop\":\"campus_card_id\"}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"clearable\":\"\"},model:{value:(_vm.userForm.campus_card_id),callback:function ($$v) {_vm.$set(_vm.userForm, \"campus_card_id\", $$v)},expression:\"userForm.campus_card_id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"院系\",\"prop\":\"department\"}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"clearable\":\"\"},model:{value:(_vm.userForm.department),callback:function ($$v) {_vm.$set(_vm.userForm, \"department\", $$v)},expression:\"userForm.department\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"placeholder\":\"务必填写正确邮箱，找回密码时会发送邮件\",\"clearable\":\"\"},model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, \"email\", $$v)},expression:\"userForm.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"clearable\":\"\"},model:{value:(_vm.userForm.name),callback:function ($$v) {_vm.$set(_vm.userForm, \"name\", $$v)},expression:\"userForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"clearable\":\"\",\"show-password\":\"\"},model:{value:(_vm.userForm.password),callback:function ($$v) {_vm.$set(_vm.userForm, \"password\", $$v)},expression:\"userForm.password\"}})],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"loginBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.execReg}},[_vm._v(_vm._s(_vm.$t('login.register')))])],1)]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"　找回密码　\",\"name\":\"forget\"}},[_c('div',{staticClass:\"loginForm\"},[_c('el-form',{ref:\"forgetForm\",attrs:{\"model\":_vm.forgetForm,\"label-width\":\"100px\",\"size\":\"small\",\"rules\":_vm.forgetRules}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('login.email'),\"prop\":\"email\"}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"clearable\":\"\"},model:{value:(_vm.forgetForm.email),callback:function ($$v) {_vm.$set(_vm.forgetForm, \"email\", $$v)},expression:\"forgetForm.email\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-s-promotion\",\"title\":\"发送验证码\"},on:{\"click\":_vm.toSendVcode},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"verification_code\"}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"clearable\":\"\"},model:{value:(_vm.forgetForm.verification_code),callback:function ($$v) {_vm.$set(_vm.forgetForm, \"verification_code\", $$v)},expression:\"forgetForm.verification_code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重置密码\",\"prop\":\"password\"}},[_c('el-input',{staticClass:\"logInt\",attrs:{\"show-password\":\"\",\"clearable\":\"\"},model:{value:(_vm.forgetForm.password),callback:function ($$v) {_vm.$set(_vm.forgetForm, \"password\", $$v)},expression:\"forgetForm.password\"}})],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"loginBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.forgetSub}},[_vm._v(\"提交\")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"bth\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-76b94b1f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/loginFrame.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76b94b1f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loginFrame.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loginFrame.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loginFrame.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76b94b1f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./loginFrame.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-76b94b1f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/loginFrame.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}