webpackJsonp([5],{"4H6F":function(e,t,s){var o={"./components/dashboard.vue":["mcif",1],"./components/datav.vue":["KsrA"],"./components/index.vue":["dAjm"],"./components/login.vue":["K31e"],"./components/loginFrame.vue":["IURr",2],"./components/system/userList.vue":["9hKU",0]};function n(e){var t=o[e];return t?Promise.all(t.slice(1).map(s.e)).then(function(){return s(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}n.keys=function(){return Object.keys(o)},n.id="4H6F",e.exports=n},"7xIN":function(e,t){},CMIP:function(e,t){},K31e:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("mvHQ"),n=s.n(o),a={name:"login",data:function(){return{userGroupList:[],loginForm:{name:"",password:""},userDialogVisible:!1,userForm:{},groupOptions:[{label:"teacher",value:"teacher"},{label:"student",value:"student"}],userRules:{name:[{required:!0,message:"用户名必填",trigger:"blur"}],password:[{required:!0,message:"密码必填",trigger:"blur"}]}}},methods:{loadUserGroup:function(){var e=this;e.req("/user_group",{},function(t){t&&t.success?e.userGroupList=t.obj.records:e.$alert(t.message,e.$t("tip.tip"),{confirmButtonText:e.$t("button.close"),type:"warning"}).then(function(){}).catch(function(){})},"get",!1)},login:function(){var e=this;e.initUserData({name:"Student.Lee",user_group_id:"3",token:"xxxxxx"})},initUserData:function(e){var t=this.m.getData(e.user_group_id).navMap,s=[],o=[];for(var a in t){var i=t[a];for(var r in 0==i.type?s.push(i):o.push(i),i.childMap){var l=i.childMap[r];for(var c in 0==l.type?i.childList.push(l):o.push(l),l.childMap){var u=l.childMap[c];for(var d in 0==u.type?this.menuSort(l.childList,u):o.push(u),u.childMap){var p=u.childMap[d];1==p.type&&o.push(p)}}l.childMap={}}i.childMap={}}sessionStorage.setItem("userMenuArr",n()(s)),sessionStorage.setItem("userFunArr",n()(o)),sessionStorage.setItem("loginUser",e.name),sessionStorage.setItem("user_group_id",e.user_group_id),sessionStorage.setItem("ops-token",e.token),this.$router.push("/")},menuSort:function(e,t){if(void 0==t.idx&&(t.idx=99999),0==e.length)e.push(t);else for(var s in e){if(e[s].idx>t.idx)return e.splice(s,0,t),!0;s==e.length-1&&e.push(t)}},resize:function(){var e=(document.body.clientHeight-550)/2-30;e<0&&(e=0),this.mt=e},toReg:function(){this.userDialogVisible=!0},execReg:function(){var e=this,t=this;this.$refs.userForm.validate(function(s){s?(e.userForm.user_group_id=3,t.req("/user",e.userForm,function(e){e&&e.success?(t.userDialogVisible=!1,t.$message.success("Success")):t.$alert(e.message,t.$t("tip.tip"),{confirmButtonText:t.$t("button.close"),type:"warning"}).then(function(){}).catch(function(){})})):t.$message.error("校验失败，请认真填写")})},toDatav:function(){this.$router.push("/datav")}},mounted:function(){this.$nextTick(function(){console.log("mounted -- >");var e=this;this.resize(),window.addEventListener("resize",function(){e.resize()})})}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"topBg"},[s("div",{staticClass:"topNav"},[s("img",{staticClass:"logo",attrs:{src:"/static/images/utils/logo1_1.png"}}),e._v(" "),s("div",{staticClass:"datavLink",on:{click:e.toDatav}},[e._v("DATAV")])]),e._v(" "),e._m(0)]),e._v(" "),s("div",[s("div",{staticClass:"loginForm"},[s("el-form",{ref:"form",attrs:{model:e.loginForm,"label-width":"90px"}},[s("el-form-item",{attrs:{label:e.$t("login.userName")}},[s("el-input",{staticClass:"logInt",attrs:{placeholder:e.$t("login.userName"),size:"big",type:"text"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("login.password")}},[s("el-input",{staticClass:"logInt",attrs:{placeholder:e.$t("login.password"),size:"big",type:"password","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),e._v(" "),s("el-button",{staticClass:"loginBtn",attrs:{type:"primary"},on:{click:e.login}},[e._v(e._s(e.$t("login.btn")))]),e._v(" "),s("div",{staticClass:"registerRow",on:{click:e.toReg}},[e._v(e._s(e.$t("login.register")))])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"Register",width:"560px","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.userDialogVisible},on:{"update:visible":function(t){e.userDialogVisible=t}}},[s("el-form",{ref:"userForm",attrs:{model:e.userForm,"label-width":"0px",size:"mini",rules:e.userRules}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"colFmTie"},[e._v(e._s(e.$t("login.userName"))),s("span",{staticClass:"requiredDot"},[e._v("*")])]),e._v(" "),s("el-select",{staticClass:"ufSel",attrs:{size:"mini"},model:{value:e.userForm.group,callback:function(t){e.$set(e.userForm,"group",t)},expression:"userForm.group"}},e._l(e.groupOptions,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("div",{staticClass:"colFmTie"},[e._v(e._s(e.$t("login.userName"))),s("span",{staticClass:"requiredDot"},[e._v("*")])]),e._v(" "),s("el-form-item",{attrs:{label:"",prop:"name"}},[s("el-input",{model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("div",{staticClass:"colFmTie"},[e._v(e._s(e.$t("login.password"))),s("span",{staticClass:"requiredDot"},[e._v("*")])]),e._v(" "),s("el-form-item",{attrs:{label:"",prop:"password"}},[s("el-input",{attrs:{"show-password":""},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1)],1)],1)],1),e._v(" "),s("div",{staticClass:"dialogFooter",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.execReg}},[e._v(e._s(e.$t("login.register")))]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.userDialogVisible=!1}}},[e._v(e._s(e.$t("button.cancel")))])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("div",{staticClass:"mt1"}),this._v(" "),t("div",{staticClass:"mainTit"},[this._v("iCenter AI数据中心平台")]),this._v(" "),t("div",{staticClass:"copyRights"},[this._v("Copyright © 2023 清华大学基础工业训练中心iCenter. All Rights Reserved.")]),this._v(" "),t("div",{staticClass:"mt1"})])}]};var r=s("VU/8")(a,i,!1,function(e){s("XNpc")},"data-v-2cc19c24",null);t.default=r.exports},KsrA:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("kZvW"),n={name:"datav",components:{vueSeamlessScroll:s.n(o).a},data:function(){return{mt:0,name:"",content:null}},methods:{resize:function(){var e=(document.body.clientHeight-470)/2;e<0&&(e=0),this.mt=e}},mounted:function(){this.$nextTick(function(){console.log("mounted -- >");var e=this;this.resize(),window.addEventListener("resize",function(){e.resize()}),this.name=config.name,this.content=config.content})}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"datavMain"},[s("svg",{staticClass:"dellTechLogo",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1017 132"}},[s("path",{attrs:{d:"M1015 84.89c0-12.23-6.8-17.66-20.39-20.38-13.58-2.71-21.73-4.08-21.73-13.58 0-6.79 5.43-10.87 14.95-10.87 12.23 0 16.3 5.43 16.3 12.23l1.36 1.36h5.43l1.36-1.36c0-13.58-10.87-19.02-24.46-19.02-14.95 0-23.09 8.15-23.09 17.67 0 10.87 8.15 16.3 21.73 19.02 13.59 2.72 20.38 4.08 20.38 14.95 0 6.79-4.07 12.23-17.66 12.23-12.23 0-17.66-6.8-17.66-14.95l-1.36-1.36h-5.43l-1.36 1.36c0 12.23 9.51 21.74 25.81 21.74 17.66-.02 25.82-8.17 25.82-19.04m-58.42-13.58l1.35-1.36v-4.07c0-19.02-10.87-32.61-29.89-32.61s-29.89 13.59-29.89 32.61v2.71c0 19.02 9.51 35.32 31.25 35.32 19.02 0 25.81-12.23 27.17-20.38l-1.36-1.36h-5.43l-1.36 1.36c-2.72 8.15-8.15 13.59-19.02 13.59-17.67 0-23.1-16.3-23.1-24.45l1.36-1.36h48.92zm-8.15-6.8h-40.76l-1.36-1.36c0-9.51 5.43-23.09 21.74-23.09 16.3 0 21.74 13.58 21.74 23.09l-1.36 1.36zm-59.78 36.68V35.97l-1.36-1.36h-5.43l-1.36 1.36v65.22l1.36 1.36h5.43l1.36-1.36zm0-78.8v-8.15l-1.36-1.36h-5.43l-1.36 1.36v8.15l1.36 1.36h5.43l1.36-1.36zm-51.62 74.73c-13.59 0-21.74-9.51-21.74-28.53s8.15-28.53 21.74-28.53c13.58 0 21.73 9.51 21.73 28.53 0 19.01-8.15 28.53-21.73 28.53m21.73-4.08c0 17.66-4.08 31.25-20.38 31.25-12.23 0-16.3-5.43-17.66-12.23l-1.36-1.36h-5.43l-1.36 1.36c1.36 10.87 9.51 19.02 25.81 19.02 17.67 0 28.53-10.87 28.53-38.04V35.97l-1.36-1.36h-4.08l-1.36 1.36-1.36 8.16h-1.36c-2.71-5.43-9.51-10.87-21.74-10.87-19.02 0-28.53 14.95-28.53 35.33 0 20.37 9.51 35.32 28.53 35.32 12.23 0 19.02-5.43 21.74-10.87h1.37zm-88.3-52.98c13.58 0 23.09 10.87 23.09 28.53s-9.51 28.53-23.09 28.53c-13.59 0-23.1-10.87-23.1-28.53s9.51-28.53 23.1-28.53m0 63.85c17.66 0 31.24-12.23 31.24-35.32s-13.58-35.33-31.24-35.33c-17.67 0-31.25 12.23-31.25 35.33 0 23.09 13.59 35.32 31.25 35.32m-40.76-2.72V8.81l-1.36-1.36h-5.43l-1.36 1.36v92.39l1.36 1.36h5.43l1.36-1.37zm-48.9-61.13c13.58 0 23.09 10.87 23.09 28.53s-9.51 28.53-23.09 28.53c-13.59 0-23.1-10.87-23.1-28.53s9.51-28.53 23.1-28.53m0 63.85c17.66 0 31.25-12.23 31.25-35.32s-13.59-35.33-31.25-35.33-31.25 12.23-31.25 35.33c0 23.09 13.59 35.32 31.25 35.32m-39.4-2.72V60.43c0-17.66-9.51-27.17-24.45-27.17-9.51 0-17.67 4.08-21.74 10.87h-1.36l-1.35-8.16-1.36-1.36h-4.08l-1.36 1.36v65.22l1.36 1.36h5.44l1.35-1.36V64.51c0-14.95 6.8-24.45 21.74-24.45 10.87 0 17.66 6.79 17.66 20.37v40.76l1.36 1.36h5.43l1.36-1.36zm-69.29 0V60.43c0-17.66-9.51-27.17-24.45-27.17-9.51 0-17.66 4.08-21.74 10.87h-1.36V8.81l-1.36-1.36h-5.43l-1.36 1.36v92.39l1.36 1.36h5.43l1.36-1.36V64.51c0-14.95 6.8-24.45 21.74-24.45 10.87 0 17.66 6.79 17.66 20.37v40.76l1.36 1.36h5.44l1.35-1.36zm-116.83-32.6c0-19.02 9.51-28.53 23.09-28.53s19.02 8.15 20.37 16.3l1.36 1.36h5.44l1.36-1.36c-1.36-13.58-12.23-23.09-28.53-23.09-17.66 0-31.24 10.87-31.24 35.33 0 24.45 13.58 35.32 31.24 35.32 16.3 0 27.17-9.51 28.53-23.09l-1.36-1.36h-5.44l-1.36 1.36c-1.36 8.15-6.79 16.3-20.37 16.3-13.59-.01-23.09-9.53-23.09-28.54m-14.95 2.72l1.36-1.36v-4.07c0-19.02-10.87-32.61-29.9-32.61-19.01 0-29.89 13.59-29.89 32.61v2.71c0 19.02 9.51 35.32 31.25 35.32 19.02 0 25.81-12.23 27.17-20.38l-1.36-1.36h-5.43l-1.36 1.36c-2.71 8.15-8.15 13.59-19.02 13.59-17.66 0-23.09-16.3-23.09-24.45l1.36-1.36h48.91zm-8.15-6.8h-40.76l-1.36-1.36c0-9.51 5.43-23.09 21.73-23.09 16.31 0 21.74 13.58 21.74 23.09l-1.35 1.36zm-36.61-51.63V8.81l-1.36-1.36h-70.65l-1.36 1.36v4.08l1.36 1.36h29.89l1.36 1.36v85.59l1.36 1.36h5.43l1.36-1.36V15.6l1.36-1.36h29.89l1.36-1.36zM322.2 83.65v18.9h-61.35V7.45h21.6v76.2h39.75zm-283.65 18.9c22.13 0 40.73-15.12 46.03-35.58l53.8 42.03 53.77-42.01v35.56h61.35v-18.9h-39.75V7.45h-21.6v35.56L140.58 83.3l-11.53-9.01L153.73 55l26.88-21-15.34-12-51.58 40.3-11.53-9.01L153.73 13 138.38 1l-53.8 42.03c-5.3-20.46-23.9-35.58-46.03-35.58H0v95.1h38.55zM21.6 83.65v-57.3h16.95C52.88 26.35 64.5 39.18 64.5 55S52.88 83.65 38.55 83.65H21.6z"}})]),e._v(" "),e.content?[s("el-row",[s("el-col",{attrs:{span:8}},[s("div",{staticStyle:{height:"50px"}})]),e._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"mainName"},[e._v(e._s(e.name))]),e._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"colBox"},[s("div",{staticClass:"colTit"},[s("div",{staticClass:"colTitName"},[e._v(e._s(e.content.genai.name))])]),e._v(" "),e._l(e.content.genai.list,function(t,o){return s("div",{key:"ci"+o,staticClass:"colItem"},[s("div",{staticClass:"ciName"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.links,function(t,o){return s("a",{key:"lk"+o,staticClass:"ciLink",attrs:{href:t.src,target:"_blank"}},[e._v(e._s(t.name))])})],2)})],2)]),e._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"colBox"},[s("div",{staticClass:"colTit"},[s("div",{staticClass:"colTitName"},[e._v(e._s(e.content.aidata.name))])]),e._v(" "),e._l(e.content.aidata.list,function(t,o){return s("a",{key:"lk"+o,staticClass:"ciLink",attrs:{href:t.src,target:"_blank"}},[e._v(e._s(t.name))])})],2)])],1)],1)],1),e._v(" "),s("div",{staticClass:"copyright"},[e._v(e._s(e.content.copyright))])]:e._e()],2)},staticRenderFns:[]};var i=s("VU/8")(n,a,!1,function(e){s("m403")},"data-v-2a323512",null);t.default=i.exports},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};s.d(o,"isNullOrEmpty",function(){return O}),s.d(o,"toCap",function(){return R}),s.d(o,"toPer",function(){return U});var n=s("fZjL"),a=s.n(n),i=s("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=s("VU/8")({name:"App"},r,!1,function(e){s("PO8K")},null,null).exports,c=s("zL8q"),u=s.n(c),d=(s("CMIP"),s("t+Gu"),s("/ocq")),p=s("K31e"),m=s("dAjm"),h=s("KsrA");i.default.use(d.a);var f=new d.a({routes:[{path:"/login",name:"login",component:p.default},{path:"/",name:"index",component:m.default},{path:"/datav",name:"datav",component:h.default}]}),v=d.a.prototype.push;d.a.prototype.push=function(e){return v.call(this,e).catch(function(e){return e})};var g={"/datav":!0};f.beforeEach(function(e,t,s){var o=sessionStorage.getItem("ops-token");"/datav"===e.path?("null"!==o&&null!==o&&s("/"),s()):g[e.path]?s():"null"!==o&&null!==o?s():s("/datav")});var _=f,w=s("mtWM"),y=s.n(w),b={envPath:function(){return""},getVmHost:function(){return"wss://"+window.location.host},getVmUrl:function(e){var t="wss://"+window.location.host+e;return t},req:function(e,t,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post",n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e=config.apiHost+e;var a=this,i=void 0;n&&(i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}));var r={};sessionStorage.getItem("csrf_access_token")&&(r["X-CSRF-TOKEN"]=sessionStorage.getItem("csrf_access_token")),y()({url:e,method:o,data:t,withCredentials:!0,headers:r,_self:this}).then(function(e){if(n&&i.close(),e.headers&&e.headers.csrf_access_token&&sessionStorage.setItem("csrf_access_token",e.headers.csrf_access_token),e.status>=200&&e.status<300)e.data&&e.data.errorCode&&"NO_LOGIN_FLAG"==e.data.errorCode?(sessionStorage.clear(),a.$router.push("/datav")):void 0!=s&&s.apply(a,[{success:!0,obj:e.data,message:""}]);else if(401==e.status)a.$message({showClose:!0,message:"登录超时",type:"warning"}),sessionStorage.clear(),a.$router.push("/datav");else{var t="";e.data&&e.data.error&&(t=e.data.error),a.$message({showClose:!0,message:t||"Connect error["+e.status+"]",type:"warning"})}}).catch(function(e){if(console.log("通讯-回调处理异常："),console.log(e),console.log(e.response),n&&i.close(),e.response&&401==e.response.status&&"UNAUTHORIZED"==e.response.statusText)a.$message({showClose:!0,message:"登录超时",type:"warning"}),sessionStorage.clear(),a.$router.push("/datav");else{var t="";e.response&&e.response.data&&(t=e.response.data.error?e.response.data.error:e.response.status+e.response.statusText),a.$message({showClose:!0,message:t,type:"warning",duration:5e3})}})},req2:function(e,t,s,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"post";e=arguments[5]?"/prometheus"+e:"/deepm"+e;var a=this,i={};sessionStorage.getItem("user-token")&&(i["auth-code"]=sessionStorage.getItem("user-token")),this.$http({url:e,method:n,data:t,headers:i,_self:this}).then(function(e){if(200==e.status){var t=e.headers["auth-code"];t&&sessionStorage.setItem("user-token",t),e.data&&e.data.errorCode&&"NO_LOGIN_FLAG"==e.data.errorCode?(a.$root.LOGINSTATUS&&(a.$root.LOGINSTATUS=!1,a.$message({showClose:!0,message:"Your session has expired.",type:"warning"})),sessionStorage.clear(),a.$router.push("/datav")):void 0!=s&&s.apply(a,[e.data])}else 404==e.status?sessionStorage.clear():void 0!=o&&o.apply(a)}).catch(function(e){console.log("通讯-回调处理异常："),console.log(e),void 0!=o&&o.apply(a)})},export:function(e,t,s,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"post";e=arguments[5]?"/prometheus"+e:"/deepm"+e;var a=this,i={};sessionStorage.getItem("user-token")&&(i["hwt-token"]=sessionStorage.getItem("user-token")),this.$http({url:e,method:n,responseType:"blob",data:t,headers:i,_self:this}).then(function(e){if(200==e.status){if(null!=e.headers["content-disposition"]){var t=window.decodeURI(e.headers["content-disposition"].split("=")[1]),n=document.createElement("a");n.href=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"})),n.target="_blank",n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}else if("application/json;charset=UTF-8"==e.headers["content-type"]){console.log(1465456165);var i=new FileReader;i.readAsText(new Blob([e.data]),"utf-8"),i.addEventListener("loadend",function(){var t=JSON.parse(i.result);e.data=t,t.success||a.$alert(t.message,"提示",{confirmButtonText:"关闭",type:"warning"}).then(function(){}).catch(function(){})}),console.log(e),s.apply(a,e.data)}}else 404==e.status?(a.$message({showClose:!0,message:"请求异常："+e.status,type:"warning"}),sessionStorage.clear()):(a.$message({showClose:!0,message:"通讯异常["+e.status+"]",type:"warning"}),void 0!=o&&o.apply(a));s.apply(a)}).catch(function(e){console.log("通讯-回调处理异常："),console.log(e),console.log(e.response.status),a.$message({showClose:!0,message:"通讯异常["+e.response.status+"]",type:"warning"}),void 0!=o&&o.apply(a)})},downLoad:function(e,t,s,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"post";var a=this,i={};sessionStorage.getItem("user-token")&&(i["hwt-token"]=sessionStorage.getItem("user-token")),this.$http({url:e,method:n,responseType:"blob",data:t,headers:i,_self:this}).then(function(e){if(200==e.status){if(console.log(e),null!=e.headers["content-disposition"]){var t=window.decodeURI(e.headers["content-disposition"].split("=")[1]);console.log(t);var n=document.createElement("a");n.href=window.URL.createObjectURL(new Blob([e.data],{type:"application/x-download"})),n.target="_blank",n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}else if("application/json;charset=UTF-8"==e.headers["content-type"]){console.log(1465456165);var i=new FileReader;i.readAsText(new Blob([e.data]),"utf-8"),i.addEventListener("loadend",function(){var t=JSON.parse(i.result);e.data=t,t.success||a.$alert(t.message,"提示",{confirmButtonText:"关闭",type:"warning"}).then(function(){}).catch(function(){})}),console.log(e),s.apply(a,e.data)}}else 404==e.status?(a.$message({showClose:!0,message:"请求异常："+e.status,type:"warning"}),sessionStorage.clear()):(a.$message({showClose:!0,message:"通讯异常["+e.status+"]",type:"warning"}),void 0!=o&&o.apply(a));s.apply(a)}).catch(function(e){console.log("通讯-回调处理异常："),console.log(e),console.log(e.response.status),a.$message({showClose:!0,message:"通讯异常["+e.response.status+"]",type:"warning"}),void 0!=o&&o.apply(a)})},fmoney:function(e){if(!e)return e=0===e?String(e.toFixed(2)):"";"string"==typeof e&&(e=parseFloat(e)),e=String(e.toFixed(2));for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e},timeFormat:function(e,t){if(!e)return"";var s=new Date(e),o=s.getFullYear(),n=s.getMonth()+1,a=s.getDate(),i=s.getHours(),r=s.getMinutes(),l=s.getSeconds(),c="";return void 0==t&&(c=o+"-"+(n<10?"0"+n:n)+"-"+(a<10?"0"+a:a)+" "+(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)+":"+(l<10?"0"+l:l)),"yyyy-mm-dd"==t&&(c=o+"-"+(n<10?"0"+n:n)+"-"+(a<10?"0"+a:a)),"yyyy-mm"==t&&(c=o+"-"+(n<10?"0"+n:n)),"mm-dd"==t&&(c=(mm<10?"0"+mm:mm)+":"+(ddmin<10?"0"+dd:dd)),"dd hh:mm"==t&&(c=(a<10?"0"+a:a)+" "+(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)),"hh:mm"==t&&(c=(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)),"yyyy"==t&&(c=""+o),c},floatFmt:function(e,t){var s=parseFloat(e);if(isNaN(s))return!1;var o=(s=Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toString(),n=o.indexOf(".");for(n<0&&(n=o.length,o+=".");o.length<=n+t;)o+="0";return o},fmtTimeLen:function(e){(null==e||void 0==e||"0"==e||isNaN(e))&&(e=0);var t=[[],[],[],[],[]],s=parseFloat(e);return t[0].push(this.floatFmt(s,1)),t[1].push(this.floatFmt(s/60,1)),t[2].push(this.floatFmt(s/60/60,1)),t[3].push(this.floatFmt(s/60/60/24,1)),t[0]<60?t[0]+"s":t[1]<60?t[1]+"m":t[2]<24?t[2]+"h":t[3]+"d"},funAuth:function(e){return funAll.find(function(t){return t.url==e})},isImg:function(e){return!!(e.endWith(".jpg")||e.endWith(".jpeg")||e.endWith(".png")||e.endWith(".JPG")||e.endWith(".JPEG")||e.endWith(".PNG"))},isDoc:function(e){return!!(e.endWith(".pdf")||e.endWith(".doc")||e.endWith(".docx")||e.endWith(".PDF")||e.endWith(".DOC")||e.endWith(".DOCX"))},doResize:function(){if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!0),window.dispatchEvent(e)}else document.createEventObject&&window.fireEvent("onresize")},nameToColor:function(e){for(var t="",s=0;s<e.length;s++)t+=parseInt(e[s].charCodeAt(0),10).toString(16);var o=0;return t.split("").forEach(function(e,t){o+=parseInt(e,16)}),["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B","#333333","#67C23A","#E6A23C","#F56C6C","#909399","#FF4081","#9575CD","#7986CB","#64B5F6","#4DD0E1","#AED581","#81C784","#E57373"][o%=32]},isValidIP:function(e){return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}},C=(s("7xIN"),s("woOf")),x=s.n(C),T=s("TXmL"),F=s("wUZ8"),k=s.n(F),S=s("Vi3T"),A=s.n(S),$={menu:{unConfig:"未配置地址"},tabName:{dashboard:"首页"},button:{search:"查询",reset:"重置",add:"新增",edit:"修改",delete:"删除",confirm:"确定",save:"保存",cancel:"取消",close:"关闭",rejected:"拒绝"},tip:{tip:"提示",success:"操作成功",fail:"操作失败",delTip:"是否继续删除？"},login:{userName:"用户名",password:"密码",btn:"登录",logout:"登出",register:"注册",email:"邮箱",campus_card_id:"校园卡号"},txt:{newVirtualMachine:"新建虚拟机",selectACreationType:"选择创建类型",selectATemplate:"选择模板",selectANameAndFolder:"选择名称和文件夹",selectAComputeResource:"选择计算资源",selectStorage:"选择存储",selectCloneOptions:"选择克隆选项",networkAdapter:"网络配置",readyToComplete:"即将完成",howWouldyltcavm:"您要如何创建虚拟机?",deployFromTemplate:"从模板部署",deployFromTemplateDesc:"此选项将指导您完成从模板创建虚拟机的过程。 模板是最佳配置的虚拟机映像，使您可以轻松创建可立即使用的虚拟机。您必须具有一个模板才能继续使用此选项。",dataCenter:"数据中心",hardwareCustomConfiguration:"硬件配置",saunatl:"指定唯一名称和目标位置",virtualMachineName:"虚拟机名称",salftvm:"为该虚拟机选择位置。",stdcrft:"为此操作选择目标计算资源",sfco:"选择其他克隆选项",povmac:"创建后打开虚拟机电源",sourceTemplate:"源模板"}},N={menu:{unConfig:"URL not configured"},tabName:{dashboard:"Dashboard"},button:{search:"Search",reset:"Reset",add:"Add",edit:"Edit",delete:"Delete",confirm:"Confirm",save:"Save",cancel:"Cancel",close:"Close",rejected:"Rejected"},tip:{tip:"Tips",success:"Success",fail:"Fail",delTip:"Selected data will be deleted. Do you want to continue?"},login:{userName:"User Name",password:"Password",btn:"Log In",logout:"Log Out",register:"Register",email:"Email",campus_card_id:"campus_card_id"},txt:{newVirtualMachine:"New Virtual Machine",selectACreationType:"Select a creation type",selectATemplate:"Select a template",selectANameAndFolder:"Select a name and folder",selectAComputeResource:"Select a compute resource",selectStorage:"Select storage",selectCloneOptions:"Select clone options",networkAdapter:"Network adapter",readyToComplete:"Ready to complete",howWouldyltcavm:"How would you like to create a virtual machine?",deployFromTemplate:"Deploy from template",deployFromTemplateDesc:"This option guides you through the process of creating a virtual machine from a template. A template is a golden image of a virtual machine that lets you easily create ready-for-use virtual machines. You must have a template to proceed with this option.",dataCenter:"Data Center",hardwareCustomConfiguration:"Hardware Custom Configuration",saunatl:"Specify a unique name and target location",virtualMachineName:"Virtual machine name",salftvm:"Select a location for the virtual machine.",stdcrft:"Select the destination compute resource for this operation",sfco:"Select further clone options",povmac:"Power on virtual machine after creation",sourceTemplate:"Source template"}};i.default.use(T.a);var I=localStorage.getItem("locale")||config.i18n;localStorage.setItem("language",I);var L=new T.a({locale:I,messages:{zh:x()($,A.a),en:x()(N,k.a)}}),E=s("wvfG"),M=s.n(E),D=s("pFYg"),z=s.n(D),O=function(e){return null==e||""==e||void 0==(void 0===e?"undefined":z()(e))},R=function(e){if(isNaN(e))return"-";var t=(e/1073741824).toFixed(1),s=(e/1099511627776).toFixed(1);return t<1024?t+" GiB":s+" TiB"},U=function(e){return isNaN(e)?"-":(100*e).toFixed(1)};i.default.use(u.a,{i18n:function(e,t){return L.t(e,t)}}),i.default.config.productionTip=!1,i.default.use(M.a),i.default.prototype.$http=y.a,i.default.prototype.$http.defaults.timeout=12e4,i.default.prototype.req=b.req,i.default.prototype.req2=b.req2,i.default.prototype.export=b.export,i.default.prototype.fmoney=b.fmoney,i.default.prototype.timeFormat=b.timeFormat,i.default.prototype.funAuth=b.funAuth,i.default.prototype.downLoad=b.downLoad,i.default.prototype.envPath=b.envPath,i.default.prototype.isImg=b.isImg,i.default.prototype.isDoc=b.isDoc,i.default.prototype.lib=b,i.default.prototype.m={getData:function(e){return 1==e?{navMap:{1:{id:1,name:"管理",parentId:0,url:"/welcome",level:1,idx:0,type:0,childMap:{2:{id:2,name:"用户管理",parentId:1,url:"/system/userList",level:2,icon:"&#xe688;",idx:1,type:0,childMap:{},childList:[]},3:{id:3,name:"IP池管理",parentId:1,url:"/system/ipPoolList",level:2,icon:"&#xe611;",idx:2,type:0,childMap:{},childList:[]},4:{id:4,name:"Vmware",parentId:1,url:"/vm/vmware",level:2,icon:"&#xe67f;",idx:1,type:0,childMap:{},childList:[]}},childList:[]}}}:2==e?{navMap:{}}:3==e?{navMap:{}}:void 0}},i.default.prototype.consts={roleOptions:[{label:"Admin",value:1},{label:"Member",value:2},{label:"Guest",value:3}]},String.prototype.endWith=function(e){var t=this.length-e.length;return t>=0&&this.lastIndexOf(e)==t},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)},i.default.filter("fmoney",b.fmoney),i.default.filter("timeFormat",b.timeFormat),i.default.component("chart-base",function(){return s.e(3).then(s.bind(null,"2H5j"))}),a()(o).forEach(function(e){i.default.filter(e,o[e])}),new i.default({el:"#app",router:_,i18n:L,data:function(){return{LOGINSTATUS:!0}},components:{App:l},template:"<App/>"})},PO8K:function(e,t){},XNpc:function(e,t){},dAjm:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"index",components:{},data:function(){return{circleUrl:"",menuAll:[],funAll:[],menuTopIndex:0,menuList:[],currTabName:"dashboard",tabArr:[],mtWidth:0,userNo:"",searchTxt:"",table:{size:10,current:1,pages:0,total:0,records:[]},loading:!1,colpTop:300,userGroupId:1,isCollapse:!0,helpUrl:"",helpTit:""}},methods:{handleOpen:function(e,t){},handleClose:function(e,t){},showMenu2:function(e){if(this.menuAll.length>e){var t=this.menuAll[e].childList;this.menuSort(t),this.menuList=t,this.$set(this.menuAll[this.menuTopIndex],"sel",!1),this.$set(this.menuAll[e],"sel",!0)}this.menuTopIndex=e},menuSort:function(e){if(e.sort(this.compare("idx")),e&&e.length>0)for(var t in e)e[t].childList&&e[t].childList.length>0&&this.menuSort(e[t].childList)},compare:function(e){return function(t,s){return t[e]-s[e]}},addTab:function(e,t,o,n){if(e){if(void 0==n&&(n=!1),-1!=e.indexOf("?")){o||(o={});var a=e.indexOf("?");e.substr(a+1).split("&").forEach(function(e,t){var s=e.split("=");o[s[0]]=s[1]}),e=e.substring(0,a)}var i=e.replaceAll("/",""),r=e,l=function(){return s("4H6F")("./components"+r+".vue")};o||(o={}),o.tabName=i;var c=!1,u=this;if(this.tabArr.forEach(function(e,s){(e.name===i||n&&u.currTabName===e.name)&&(c=!0,n?(u.$set(u.tabArr[s],"param",o),u.$set(u.tabArr[s],"content",l),u.$set(u.tabArr[s],"ts",(new Date).getTime())):(u.$set(u.tabArr[s],"title",t),u.$set(u.tabArr[s],"param",o),u.$set(u.tabArr[s],"content",l),u.$set(u.tabArr[s],"ts",(new Date).getTime())))}),!c){var d="";if(this.menuAll.forEach(function(t,s){t.childList.forEach(function(t,s){t.url==e&&(d=t.icon)})}),!d){var p={"/dashboard":"&#xe751;","/monitor/monitorIsilon":"&#xe69e;"};p[e]&&(d=p[e])}this.tabArr.push({title:t,name:i,icon:d,param:o,content:l,closable:"/dashboard"!=e})}n||(this.currTabName=i)}else this.$message({showClose:!0,message:this.$t("menu.unConfig"),type:"warning"})},removeTab:function(e){var t=this.tabArr,s=this.currTabName;s===e&&t.forEach(function(o,n){if(o.name===e){var a=t[n+1]||t[n-1];a&&(s=a.name)}}),this.currTabName=s,this.tabArr=t.filter(function(t){return t.name!==e})},clickTab:function(e){},closeTab:function(e){this.removeTab(e.replaceAll("/",""))},rightDropdown:function(e){"logout"==e?(sessionStorage.removeItem("user-token"),sessionStorage.removeItem("ops-token"),sessionStorage.removeItem("csrf_access_token"),this.req("/auth",{},function(e){},"delete"),this.$router.push("/datav")):"sysoper"==e&&(this.sysoperVisible=!0)},handleClick:function(e,t){console.log(e,t)},imaHandleClick:function(e,t){console.log(e,t)},toggleCollapse:function(){this.isCollapse=!this.isCollapse,setTimeout(function(){var e=new Event("resize");window.dispatchEvent(e)},100)},resize:function(){var e=document.body.clientHeight,t=document.body.clientWidth,s=e-300;s<0?s=0:s>600&&(s=600),this.chatHeight=s;var o=(e-60-50)/2+60;this.colpTop=o;var n=t-1350;this.warnLen=n},openUrl:function(e){e&&window.open(e)}},mounted:function(){this.$nextTick(function(){var e=this;this.userGroupId=sessionStorage.getItem("user_group_id");var t=JSON.parse(sessionStorage.getItem("userMenuArr"));this.menuAll=t,this.mtWidth=140*t.length,funAll=JSON.parse(sessionStorage.getItem("userFunArr")),this.userNo=sessionStorage.getItem("loginUser"),this.showMenu2(0),this.addTab("/dashboard",this.$t("tabName.dashboard")),this.helpUrl=config.helpUrl,this.helpTit=config.helpTit,this.resize(),window.addEventListener("resize",function(){e.resize()})})},beforeDestroy:function(){}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"mainPage"},["1"==e.userGroupId?s("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[s("el-scrollbar",{staticStyle:{height:"calc(100% - 0px)","z-index":"10","margin-top":"0px","background-image":"linear-gradient(to bottom, #6510ad, #2c335a)"}},[s("el-menu",{attrs:{"unique-opened":!0,collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[e._l(e.menuList,function(t){return[""!=t.url?s("el-menu-item",{key:t.id,staticClass:"selectNone",attrs:{index:t.id.toString()},on:{click:function(s){return e.addTab(t.url,t.name)}}},[s("div",{staticClass:"dots"},[s("i",{class:"iconfont",domProps:{innerHTML:e._s(t.icon?t.icon:"&#xe7cc;")}}),e._v(" "),s("span",{attrs:{title:t.name}},[e._v(e._s(t.name))])])]):s("el-submenu",{key:t.id,staticClass:"selectNone",attrs:{index:t.id.toString()}},[s("template",{slot:"title"},[s("div",{staticClass:"dots"},[s("i",{class:"iconfont",domProps:{innerHTML:e._s(t.icon?t.icon:"&#xe7cc;")}}),e._v(" "),s("span",{attrs:{title:t.name}},[e._v(e._s(t.name))])])]),e._v(" "),e._l(t.childList,function(t){return[s("el-menu-item",{key:t.id,staticClass:"selectNone menuLev3",attrs:{index:t.id.toString()},on:{click:function(s){return e.addTab(t.url,t.name)}}},[e._v(e._s(t.name))])]})],2)]})],2)],1),e._v(" "),s("div",{staticClass:"colpBtn",style:"left:"+(e.isCollapse?"39px":"175px")+"; top:"+e.colpTop+"px;",on:{click:e.toggleCollapse}},[s("i",{class:e.isCollapse?"el-icon-arrow-right":"el-icon-arrow-left"})])],1):e._e(),e._v(" "),s("el-container",{staticClass:"rightContainer"},[s("el-header",[s("div",{staticClass:"midBlock",style:"padding-left:"+(e.isCollapse?"576px":"440px")},[s("img",{staticClass:"logoBlock2",attrs:{src:"/static/images/utils/logo1_1.png"}}),e._v(" "),e._l(e.menuAll,function(t,o){return s("div",{key:o,class:"menuTopItem "+(t.sel?"mtSel":""),attrs:{index:t.id.toString()},on:{click:function(t){return e.showMenu2(o)}}},[e._v(e._s(t.name))])}),e._v(" "),s("el-dropdown",{on:{command:e.rightDropdown}},[s("span",{staticClass:"el-dropdown-link"},[e._v("\n                        "+e._s(e.userNo)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"logout"}},[e._v(e._s(e.$t("login.logout")))])],1)],1),e._v(" "),e.helpTit?s("div",{staticClass:"helpLink",on:{click:function(t){return e.openUrl(e.helpUrl)}}},[e._v(e._s(e.helpTit))]):e._e()],2)]),e._v(" "),s("el-main",[s("el-row",{staticStyle:{height:"100%"}},[s("el-col",{staticStyle:{height:"100%"},attrs:{span:24}},[s("el-tabs",{staticStyle:{height:"100%"},attrs:{id:"mainTabs",type:"card"},on:{"tab-remove":e.removeTab,"tab-click":e.clickTab},model:{value:e.currTabName,callback:function(t){e.currTabName=t},expression:"currTabName"}},e._l(e.tabArr,function(t){return s("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name,closable:t.closable}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("span",{staticClass:"span-box"},[s("i",{class:"iconfont topBarIcon",domProps:{innerHTML:e._s(t.icon?t.icon:"&#xe7cc;")}}),e._v(" "),s("span",[e._v(e._s(t.title))])])]),e._v(" "),s("keep-alive",[s(t.content,{key:t.ts,tag:"tab-component",attrs:{curr:e.currTabName==t.name,param:t.param},on:{addTab:e.addTab,closeTab:e.closeTab}})],1)],1)}),1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var a=s("VU/8")(o,n,!1,function(e){s("fzg1")},"data-v-6a2f7f3c",null);t.default=a.exports},fzg1:function(e,t){},m403:function(e,t){},"t+Gu":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.13ebe66a9498b2c2d67f.js.map